{% extends "layout.html" %}
{% block title %}Usuários{% endblock %}

{% block content %}
<h2 class="text-2xl font-bold text-[#8B1E3F] mb-8 text-center">👥 Usuários da Empresa</h2>

<div class="max-w-5xl mx-auto bg-white rounded-2xl shadow ring-1 ring-gray-200 p-6">
  <div class="mb-4 flex justify-end">
    <a href="/usuario/usuarios/novo"
      class="bg-[#8B1E3F] hover:bg-[#741934] text-white text-sm font-semibold px-4 py-2 rounded-md shadow transition">
      ➕ Novo Usuário
    </a>
  </div>

  <div class="overflow-x-auto">
    <table class="w-full table-auto text-sm border-collapse">
      <thead>
        <tr class="bg-gray-100 text-gray-600">
          <th class="px-4 py-2 text-left">Nome</th>
          <th class="px-4 py-2 text-left">E-mail</th>
          <th class="px-4 py-2 text-left">Função</th>
          <th class="px-4 py-2 text-right">Ações</th>
        </tr>
      </thead>
      <tbody>
        {% for u in usuarios %}
        <tr class="border-t border-gray-200 hover:bg-gray-50">
          <td class="px-4 py-2 font-medium text-gray-800">{{ u.usunome }}</td>
          <td class="px-4 py-2 text-gray-700">{{ u.usuemail }}</td>
          <td class="px-4 py-2">
            {% if u.usufuncao == 'admin' %}
            <span
              class="inline-block bg-[#8B1E3F]/10 text-[#8B1E3F] text-xs font-semibold px-2 py-0.5 rounded">Admin</span>
            {% else %}
            <span
              class="inline-block bg-gray-200 text-gray-700 text-xs font-medium px-2 py-0.5 rounded">Colaborador</span>
            {% endif %}
          </td>
          <td class="px-4 py-2 text-right space-x-2">
            <a href="/usuario/usuarios/{{ u.usucod }}/editar" class="text-[#8B1E3F] hover:underline font-medium">✏️
              Editar</a>
            <a href="/usuario/usuarios/{{ u.usucod }}/excluir"
              onclick="return confirm('Tem certeza que deseja excluir este usuário?')"
              class="text-red-600 hover:underline font-medium">🗑️ Excluir</a>
          </td>
        </tr>
        {% endfor %}
      </tbody>
    </table>
  </div>
</div>
{% endblock %}